spring.application.name=auth
# =========================
# Server
# =========================
server.port=8080

# =========================
# DataSource (PostgreSQL)
# =========================
spring.datasource.url=jdbc:postgresql://localhost:5432/authdb2
spring.datasource.username=postgres
spring.datasource.password=qwerty123

# Hikari (opsional, aman dibiarkan default)
# spring.datasource.hikari.maximum-pool-size=10
# spring.datasource.hikari.minimum-idle=2
# spring.datasource.hikari.connection-timeout=30000
# spring.datasource.hikari.idle-timeout=600000

# =========================
# JPA / Hibernate
# =========================
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
# (opsional) log SQL saat dev:
# logging.level.org.hibernate.SQL=debug
# logging.level.org.hibernate.orm.jdbc.bind=trace

# =========================
# # Flyway
# # =========================
# spring.flyway.enabled=true
# spring.flyway.locations=classpath:db/migration

# =========================
# Auth (JWT HS256)
# =========================
auth.jwt.hs256-secret=NRaPzPU68SITKo12MtMYLJXQSfEGEnmsXqlMvi0eRQI4BFaFbSXc3EMGjDhm4mcD
auth.jwt.issuer=auth
auth.jwt.access-ttl-minutes=10

# Catatan: di kode tahap-1, refresh TTL masih konstanta 30 hari di AuthService.
# Kalau nanti kamu injek dari config, sediakan juga:
auth.jwt.refresh-ttl-days=30


# --- Email ---
spring.mail.host=localhost
spring.mail.port=1025
spring.mail.properties.mail.smtp.auth=false
spring.mail.properties.mail.smtp.starttls.enable=false
mail.enabled=false   
# true jika SMTP beneran sudah siap

# --- App URLs (dipakai buat link di email) ---
app.public-base-url=http://localhost:8080
app.frontend-base-url=http://localhost:5173

# --- Auth flags & TTLs ---
auth.require-email-verified=false
auth.email-verification-ttl-hours=24
auth.password-reset-ttl-minutes=30


audit.enabled=true





# tampilkan detail error (dev only)
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=always

# level log
logging.level.root=INFO
logging.level.com.core.auth=DEBUG
logging.level.org.springframework.web=INFO


# MFA TOTP Feature Flag
auth.mfa.totp.enabled=false
auth.mfa.totp.issuer=MiniPSP-Auth
auth.mfa.totp.digits=6
auth.mfa.totp.period-seconds=300
# TTL loginToken MFA (detik)
auth.mfa.totp.login-token-ttl-seconds=300


# ==== FEATURE FLAGS AUTH SERVICE ====
auth.features.openapi.enabled=true      # matikan Swagger/OpenAPI kalau false
auth.features.actuator.enabled=true    # matikan Actuator/Metrics kalau false
auth.features.webauthn.enabled=false   # nanti dipakai saat WebAuthn sudah ada


# ===== ACTUATOR / MANAGEMENT =====
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoints.web.base-path=/actuator
management.endpoint.health.show-details=when_authorized
management.endpoint.prometheus.enabled=true

# info basic
management.info.env.enabled=true
info.app.name=auth-service
info.app.version=0.0.1
